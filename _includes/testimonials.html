<div class="max-w-4xl mx-auto px-4 py-4 md:py-16">
  <div class="relative">
    <!-- Testimonials Container -->
    <div class="overflow-hidden">
      <div
        id="testimonialSlider"
        class="flex transition-transform duration-300"
      >
        <!-- Testimonial 1 -->
        {% for testimonial in site.data.translations[page.lang].testimonials %}
        <div class="w-full flex-shrink-0">
          <div class="flex flex-col md:flex-row items-center gap-8 p-6">
            <div
              class="w-28 h-28 md:w-64 md:h-72 rounded-lg overflow-hidden flex-shrink-0"
            >
              <img
                src="{{ testimonial.image | relative_url }}"
                alt="{{ testimonial.name }}"
                class="w-full h-auto object-cover rounded-full md:rounded-lg"
              />
            </div>
            <div class="flex-1 text-center md:text-start">
              <div class="flex mb-4 justify-center md:justify-start">
                <svg
                  class="w-6 h-6 text-yellow-400"
                  fill="currentColor"
                  viewBox="0 0 20 20"
                >
                  <path
                    d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"
                  />
                </svg>
                <svg
                  class="w-6 h-6 text-yellow-400"
                  fill="currentColor"
                  viewBox="0 0 20 20"
                >
                  <path
                    d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"
                  />
                </svg>
                <svg
                  class="w-6 h-6 text-yellow-400"
                  fill="currentColor"
                  viewBox="0 0 20 20"
                >
                  <path
                    d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"
                  />
                </svg>
                <svg
                  class="w-6 h-6 text-yellow-400"
                  fill="currentColor"
                  viewBox="0 0 20 20"
                >
                  <path
                    d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"
                  />
                </svg>
                <svg
                  class="w-6 h-6 text-yellow-400"
                  fill="currentColor"
                  viewBox="0 0 20 20"
                >
                  <path
                    d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"
                  />
                </svg>
              </div>
              <p class="text-gray-700 text-base mb-6">
                {{ testimonial.quote }}
              </p>
              <h3 class="font-semibold mb-1 text-base">
                {{ testimonial.name }}
              </h3>
              <p class="text-gray-600 text-sm">{{ testimonial.role }}</p>
            </div>
          </div>
        </div>
        {% endfor %}
        <!-- Add more testimonials here -->
      </div>
    </div>

    <!-- Navigation Buttons -->
    <button
      class="absolute left-0 top-1/2 -translate-y-1/2 -translate-x-4 bg-white p-2 rounded-full shadow-lg hover:bg-gray-50"
      onclick="previousSlide()"
    >
      <svg
        class="w-6 h-6 text-gray-600"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M15 19l-7-7 7-7"
        />
      </svg>
    </button>
    <button
      class="absolute right-0 top-1/2 -translate-y-1/2 translate-x-4 bg-white p-2 rounded-full shadow-lg hover:bg-gray-50"
      onclick="nextSlide()"
    >
      <svg
        class="w-6 h-6 text-gray-600"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M9 5l7 7-7 7"
        />
      </svg>
    </button>

    <!-- Slide Indicators -->
    <div class="flex justify-center mt-4 space-x-2 indicators">
      <button
        class="w-2 h-2 rounded-full bg-tertiary-400"
        onclick="goToSlide(0)"
      ></button>
      <button
        class="w-2 h-2 rounded-full bg-gray-300"
        onclick="goToSlide(1)"
      ></button>
      <button
        class="w-2 h-2 rounded-full bg-gray-300"
        onclick="goToSlide(2)"
      ></button>
    </div>
  </div>
</div>

<script>
  let currentSlide = 0;
  const slider = document.getElementById("testimonialSlider");
  const slides = document.querySelectorAll("#testimonialSlider > div");
  const indicators = document.querySelectorAll(".indicators button");

  function updateSlider() {
    slider.style.transform = `translateX(-${currentSlide * 100}%)`;
    // Update indicators
    indicators.forEach((indicator, index) => {
      indicator.classList.toggle("bg-tertiary-400", index === currentSlide);
      indicator.classList.toggle("bg-gray-300", index !== currentSlide);
    });
  }

  function nextSlide() {
    currentSlide = (currentSlide + 1) % slides.length;
    updateSlider();
  }

  function previousSlide() {
    currentSlide = (currentSlide - 1 + slides.length) % slides.length;
    updateSlider();
  }

  function goToSlide(index) {
    currentSlide = index;
    updateSlider();
  }
</script>
