<header class="bg-white shadow-md py-4">
  <div class="container mx-auto px-6">
    <div class="flex justify-between items-center">
      <!-- Logo -->
      <div class="flex items-center space-x-4 flex-1">
        <a href="{% if page.lang == 'en' %}/en/{% else %}/{% endif %}">
          <img
            src="{{ '/assets/images/logo/logo.svg' | relative_url }}"
            alt="{{ site.data.translations[page.lang].site_name }}"
            class="h-8 md:h-10"
        />
      </div>

      <!-- Desktop Navigation -->
      <nav
        class="hidden md:flex items-center space-x-6 flex-[1.5] justify-center"
      >
        <a href="{% if page.lang == 'en' %}/en/#features{% else %}/#features{% endif %}" class="text-gray-600 hover:text-indigo-600">
          {{ site.data.translations[page.lang].nav.features }}
        </a>
        <a href="{% if page.lang == 'en' %}/en/pricing/{% else %}/pricing/{% endif %}" class="text-gray-600 hover:text-indigo-600">
          {{ site.data.translations[page.lang].nav.pricing }}
        </a>
        <a
          href="{% if page.lang == 'en' %}/en/blog/{% else %}/blog/{% endif %}"
          class="text-gray-600 hover:text-indigo-600"
        >
          {{ site.data.translations[page.lang].nav.blog }}
        </a>
        <a href="{% if page.lang == 'en' %}/en/#faq{% else %}/#faq{% endif %}" class="text-gray-600 hover:text-indigo-600">
          {{ site.data.translations[page.lang].nav.faq }}
        </a>
      </nav>

      <!-- Desktop Right Section -->
      <div class="hidden md:flex items-center space-x-6 flex-1 justify-end">
        <!-- Language Switcher -->
        <div class="text-sm text-gray-600">
          {% if page.lang == 'en' %}
          <span class="font-medium">EN</span> |
          <a
            href="{% if page.translations.de %}{{ page.translations.de }}{% else %}{{ page.url | replace:'/en/', '/' }}{% endif %}"
            class="hover:text-tertiary-500"
            >DE</a
          >
          {% else %}
          <a href="{% if page.translations.en %}{{ page.translations.en }}{% else %}/en{{ page.url }}{% endif %}" class="hover:text-tertiary-500">EN</a>
          | <span class="font-medium">DE</span>
          {% endif %}
        </div>

        <!-- CTA Buttons -->
        <div class="flex space-x-4">
          <a href="{{ site.data.translations[page.lang].links.login }}?language={{ page.lang | default: 'de' }}">
            <button class="cta_button cta_button--secondary cta_button--short">
              {{ site.data.translations[page.lang].buttons.login }}
            </button>
          </a>
          <a href="{{ site.data.translations[page.lang].links.sign_up }}">
            <button class="cta_button cta_button--primary--dark cta_button--short">
              {{ site.data.translations[page.lang].buttons.sign_up }}
            </button>
          </a>
        </div>
      </div>

      <!-- Mobile Hamburger Button -->
      <button class="md:hidden" onclick="toggleMobileMenu()">
        <svg
          class="w-6 h-6"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4 6h16M4 12h16M4 18h16"
          />
        </svg>
      </button>
    </div>

    <!-- Mobile Menu -->
    <div id="mobileMenu" class="hidden md:hidden">
      <nav class="pt-4 pb-3 space-y-3">
        <a href="{% if page.lang == 'en' %}/en/{% else %}/{% endif %}" class="block text-primary-500 font-medium py-2">
          {{ site.data.translations[page.lang].nav.home }}
        </a>
        <a href="{% if page.lang == 'en' %}/en/#features{% else %}/#features{% endif %}" class="block text-gray-600 hover:text-indigo-600 py-2">
          {{ site.data.translations[page.lang].nav.features }}
        </a>
        <a href="{% if page.lang == 'en' %}/en/pricing/{% else %}/pricing/{% endif %}" class="block text-gray-600 hover:text-indigo-600 py-2">
          {{ site.data.translations[page.lang].nav.pricing }}
        </a>
        <a href="{% if page.lang == 'en' %}/en/#faq{% else %}/#faq{% endif %}" class="block text-gray-600 hover:text-indigo-600 py-2">
          {{ site.data.translations[page.lang].nav.faq }}
        </a>
        <a href="{% if page.lang == 'en' %}/en/blog/{% else %}/blog/{% endif %}" class="block text-gray-600 hover:text-indigo-600 py-2">
          {{ site.data.translations[page.lang].nav.blog }}
        </a>

        <!-- Mobile Language Switcher -->
        <div class="py-2 text-sm text-gray-600 border-t border-gray-100 mt-2">
          {% if page.lang == 'en' %}
          <span class="font-medium">EN</span> |
          <a
            href="{% if page.translations.de %}{{ page.translations.de }}{% else %}{{ page.url | replace:'/en/', '/' }}{% endif %}"
            class="hover:text-indigo-600"
            >DE</a
          >
          {% else %}
          <a href="{% if page.translations.en %}{{ page.translations.en }}{% else %}/en{{ page.url }}{% endif %}" class="hover:text-indigo-600">EN</a>
          | <span class="font-medium">DE</span>
          {% endif %}
        </div>

        <div class="pt-4 space-y-3">
          <a
            href="{{ site.data.translations[page.lang].links.sign_up }}"
            class="block"
          >
            <button
              class="cta_button cta_button--primary cta_button--short w-full"
            >
              {{ site.data.translations[page.lang].buttons.sign_up }}
            </button>
          </a>
          <a
            href="{{ site.data.translations[page.lang].links.login }}?language={{ page.lang | default: 'de' }}"
            class="block"
          >
            <button
              class="cta_button cta_button--secondary cta_button--short w-full"
            >
              {{ site.data.translations[page.lang].buttons.login }}
            </button>
          </a>
        </div>
      </nav>
    </div>
  </div>
</header>

<script>
  function toggleMobileMenu() {
    const mobileMenu = document.getElementById("mobileMenu");
    mobileMenu.classList.toggle("hidden");
  }
</script>
