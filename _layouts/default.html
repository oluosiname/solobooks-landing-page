<!DOCTYPE html>
<html lang="{{ page.lang | default: 'de' }}">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Basic Meta Tags -->
    <title>
      {% if page.title %}{{ page.title }} | {% endif %}{{
      site.data.translations[page.lang].title }}
    </title>
    <meta
      name="description"
      content="{% if page.excerpt %}{{ page.excerpt | strip_html | truncate: 160 }}{% else %}{{ site.data.translations[page.lang].meta_description }}{% endif %}"
    />
    <meta
      name="keywords"
      content="{{ site.data.translations[page.lang].meta_keywords }}{% if page.categories %}, {{ page.categories | join: ', ' }}{% endif %}"
    />

    <!-- Open Graph / Social Media -->
    <meta
      property="og:type"
      content="{% if page.layout == 'post' %}article{% else %}website{% endif %}"
    />
    <meta
      property="og:title"
      content="{% if page.title %}{{ page.title }}{% else %}{{ site.data.translations[page.lang].title }}{% endif %}"
    />
    <meta
      property="og:description"
      content="{% if page.excerpt %}{{ page.excerpt | strip_html | truncate: 160 }}{% else %}{{ site.data.translations[page.lang].meta_description }}{% endif %}"
    />
    <meta property="og:url" content="{{ page.url | absolute_url }}" />
    {% if page.image %}
    <meta property="og:image" content="{{ page.image | absolute_url }}" />
    {% else %}
    <meta property="og:image" content="{{ '/assets/images/logo/og-image.svg' | absolute_url }}" />
    {% endif %}
    <meta
      property="og:site_name"
      content="{{ site.data.translations[page.lang].title }}"
    />
    <meta
      property="og:locale"
      content="{{ page.lang }}_{{ page.lang | upcase }}"
    />
    {% if page.translations %} {% for translation in page.translations %}
    <meta
      property="og:locale:alternate"
      content="{{ translation[0] }}_{{ translation[0] | upcase }}"
    />
    {% endfor %} {% endif %}

    <!-- Twitter Card -->
    <meta
      name="twitter:card"
      content="{% if page.image %}summary_large_image{% else %}summary{% endif %}"
    />
    <meta
      name="twitter:title"
      content="{% if page.title %}{{ page.title }}{% else %}{{ site.data.translations[page.lang].title }}{% endif %}"
    />
    <meta
      name="twitter:description"
      content="{% if page.excerpt %}{{ page.excerpt | strip_html | truncate: 160 }}{% else %}{{ site.data.translations[page.lang].meta_description }}{% endif %}"
    />
    {% if page.image %}
    <meta name="twitter:image" content="{{ page.image | absolute_url }}" />
    {% else %}
    <meta name="twitter:image" content="{{ '/assets/images/logo/og-image.svg' | absolute_url }}" />
    {% endif %}

    <!-- Language Alternates -->
    {% assign canonical_url = page.url | absolute_url %}
    <link rel="canonical" href="{{ canonical_url }}" />

    <!-- Default language alternates -->
    <link rel="alternate" hreflang="x-default" href="https://solobooks.de/" />
    <link rel="alternate" hreflang="de" href="https://solobooks.de/" />
    <link rel="alternate" hreflang="en" href="https://solobooks.de/en/" />

    <!-- Page-specific language alternates -->
    {% if page.translations %} {% for translation in page.translations %} {%
    assign lang = translation[0] %} {% assign url = translation[1] %}
    <link
      rel="alternate"
      hreflang="{{ lang }}"
      href="https://solobooks.de{{ url }}"
    />
    {% endfor %} {% endif %}

    <!-- Google Fonts - Inter & Space Grotesk -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- Styles -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="{{ '/assets/css/style.css' | relative_url }}"
    />

    <!-- Favicons -->
    <link rel="icon" type="image/svg+xml" href="{{ '/assets/images/logo/favicon.svg' | relative_url }}" />
    <link rel="apple-touch-icon" href="{{ '/assets/images/logo/apple-touch-icon.svg' | relative_url }}" />
  </head>
  <body>
    {% include header.html %}
    <main class="bg-white">{{ content }}</main>
    {% include footer.html %}
  </body>
</html>
